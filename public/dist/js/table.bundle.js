!function t(e,a,r){function n(i,d){if(!a[i]){if(!e[i]){var o="function"==typeof require&&require;if(!d&&o)return o(i,!0);if(s)return s(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[i]={exports:{}};e[i][0].call(u.exports,function(t){var a=e[i][1][t];return n(a?a:t)},u,u.exports,t,e,a,r)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(t,e,a){"use strict";var r={init:function(){this.addPlayers(),this.deletePlayers(),this.startGame()},addPlayers:function(){$("#add-players").on("click",function(){var t=$(".add-player1"),e=$(".add-player2"),a=t.val(),r=e.val();$.ajax({type:"POST",url:"/table/add",dataType:"json",data:{player1:a,player2:r},success:function(n){var s="<tr><td>"+a+"</td><td>0 : 0<h5>Игра не начата</h5></td><td>"+r+"</td><td><button data-id='"+n.id+"' class='play'><span>Игра</span></button></td><td><button data-id='"+n.id+"' class='delete-players'>&times;</button></td></tr>";$(".players table").prepend(s),t.val("").focus(),e.val("")},error:function(){alert("error")}})})},deletePlayers:function(){$(document).on("click",".delete-players",function(){var t=$(this),e=$(this).data("id");$.ajax({type:"DELETE",dataType:"json",url:"/game/"+e,success:function(e){e.success?t.parents("tr").remove():alert("error")}})})},startGame:function(){$(document).on("click",".play, .detail",function(){var t=$(this).data("id"),e=$(this).hasClass("detail");$.ajax({type:"POST",url:"/game/"+t+"/start",dataType:"json",success:function(a){if(a.success){var r=e?"/detail":"";window.location.href="/game/"+t+r}else alert("Ошибка")}})})}};r.init()},{}]},{},[1]);