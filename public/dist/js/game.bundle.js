!function n(t,e,o){function a(i,s){if(!e[i]){if(!t[i]){var p="function"==typeof require&&require;if(!s&&p)return p(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=e[i]={exports:{}};t[i][0].call(u.exports,function(n){var e=t[i][1][n];return a(e?e:n)},u,u.exports,n,t,e,o)}return e[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(n,t,e){"use strict";var o={init:function(){var n=this;n.id=$("#gameId").val(),n.id&&n.getGameData(n.id).then(function(t){t&&(n.gameData=t,n.count(t))})},getGameData:function(n){return console.log(n),$.ajax({type:"GET",url:"/game/"+n+"/json"})},count:function(n){{var t=this,e=t.id;({player1:n.player1.score,player2:n.player2.score}),{player1:n.player1.point,player2:n.player2.point}}document.oncontextmenu=function(){return!1};var o={player1:{score:n.player1.score},player2:{score:n.player2.score},points:n.points},a=parseInt(o.player1.score)+parseInt(o.player2.score);$(".block").on("mousedown",function(n){var r=$(this),i=r.data("player"),s=1==i?2:1,p=r.find(".count"),c=r.parent().find('[data-player="'+s+'"]').find(".count"),u=r.find(".wons"),l=2===n.button||!1,d=!1,f=0,y=null,m=function(n){var t="player"+n;f=0,y=0,a++,o[t].score+=1,u.html(o[t].score).addClass("animated bounceIn")};o.points.length<a+1&&o.points.push({1:0,2:0}),o.points[a][i]=parseInt(o.points[a][i]),l?o.points[a][i]-=1:o.points[a][i]+=1,o.points[a][i]<0&&(o.points[a][i]=0),l&&o.points[a][s]>=10&&o.points[a][s]-o.points[a][i]>1?m(s):o.points[a][i]>=10&&o.points[a][i]==o.points[a][s]?(f="=",y="="):o.points[a][i]>=11?o.points[a][i]-o.points[a][s]>0&&(o.points[a][i]-o.points[a][s]>1?m(i):(f=">",y="<")):d?(f=0,y=0,a++):f=o.points[a][i],p.html(f).addClass("animated bounceIn"),null!==y&&c.html(y).addClass("animated bounceIn"),_.throttle(function(){t.saveGame(e,o)},100)()})},nextGame:function(n){var t=$("main.content .row");t.addClass("hidden"),t.eq(n).removeClass("hidden")},saveGame:function(n,t){void 0!==n&&$.ajax({type:"POST",url:"/game/"+n+"/save",dataType:"json",data:JSON.stringify(t),contentType:"application/json",success:function(n){n.success?console.log("Сохранено",t):alert("Ошибка сохранения")}})}};o.init()},{}]},{},[1]);